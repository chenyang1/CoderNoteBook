# 分布式id生成

在很多场景中，都有需要生成唯一id的需求。这个问题抽象出来，就是在分布式的环境下，如果不重复的id。

常见的几种方案

方案一：

集中式的唯一id生成，类似于预约一个号码段，不同的业务向一个中心节点去申请号段。


方案二：
类似于雪花算法的id生成思路，将一个64位的bit段，分为不同的区间。（时间 + 机器id + 序号）类似于这样。保证在某一个时间下，可以生成的id都是唯一的。

这里有一个小的trick，（时间 + 机器id + 序号）这样组合还有一个额外的优点，保证的id是单调增长的。如果id是用在做数据库主键的，可以保证主键的写入是一直追加到索引的后面的。
